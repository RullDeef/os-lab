до кода три команды

lahf ?
exch
push ax

сохранение регистров флагов
дальше идёт косв вызов прерывания 1сш - очень важно!
команда iret возвращает управление и восстанавливает регистр флагов.

"установка флага отключения моторчика дисковода" пишем прям так.

не пишем просто счётчик. Обязательно счётчик чего-то

по отношению к вызываемой процедуре говорить аппаратный контекст некорректно.
аппаратный контекст сохраняется при возникновении прерывания.

когда куда-то пишем 0 - для нас это сброс (1 - соотв. установка)

сохранить - значит в стеке

вызвать? КОГО? ВИНДОУС ЭКСПИ??! пишем существительные на схемах

sub_1 должна запрещать маскируемые прерывания

пишем просто cli
